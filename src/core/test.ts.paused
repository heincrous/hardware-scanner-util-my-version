import fs from 'fs';
import path from 'path';
import { ZADriversBarcodeProcessor } from './ZADriversDecodeUtil';

function test() {
    console.log(`Directort: ${__dirname}`);
    const sampleLicenseBase64 = 'AZsJRQAADMa+GSMDRzwILcEP2wvnyockv3+O66ATR8lXE+99cy+6uaQAI9od+aCrfZwnyiwkZ9of4BXC6dgw1htX71bC6TjAZPKCC84iP7Ao10USiBbi9UBQOyjrceQ6Rq3wiZHyMH1uGfPLJQn3OwlK3yd0S3IUjls6xKTiAO1/l6odlvZH3QOUWMm2w3f867V+fJx+I21M+K1zxylI2iMxWiZOX2M+55t5GdSxwTYDzu49VioqtJoTUveenkz9mSnsXUcQ3Nn8HxYlJre016YIDnk5ugxq7hlVy1E1rc8h/v/JQG3nT/HogxSTZkPj6xRi5ut/JSSFkhnQA45KbXgrp8DDv7TrJN78NhiFI7F99GYbgPYgn91Zy/DpKhkCGGuJazkJVEoIZd1NdwKYfwQn1y1ndFOwPmcugM4dFGwRPYgbFVAuociZ0WobzV+Mv31xgIfFY0zlGEsQaSaibwCjVWQcLHHKkqx5yt8zYmfCPMiE0MR/mcyDcQ4yFUqdH0yqtCdTGW2g0Mihz91SDjCHYuv5qaYjxVyzaz6FgcmU2+wcadNXRyC0Agjh2/L29ySFqsaSfHJVFtEiQ4sb80ynmELRHVum+89BLQCyXChupq7/tioD898WRKurLPP7xw+NOZf88EWxDDsNmzaZ9XzZVSArAduzL7kuEdNFFXit41XFbHdYsuRZuHR3sRMog8RFjgM1YJZ1UFblbKBNF6l5MsLi3RveLaVL42oAOTM+CvE45v/wU0r/ia+VVEmabMGDpRFKjG6I0HI3vY4pvQZBtiSN7A4+UUxQYzfahauSsbnI21RrkBXiND7Sue9QN6eqXlLPaOtcebRXzQxN4tG2JpD76iLGJY/qeffTL3mfBdmUshrmtvn2cMyVYIdBPFSfLyisWG2ZuzoGPqY2f7B20X+j6k2GMiZJhVp5bH27SZAeHva/ZPHNacVk+IKt';
    const sampleBase64_DC = 'AZsJRQAAYOmieh5HX4mvF8s6Wuhr2RFS0i+8ofRiuovTnpNBuyatguOrG05oBpJHt1KG7bZP7UdsGkRLun/+yorJ3c9imsWCqGW47v7GgvM95A5opvwIJl34atBYN221bkqdKi2ihdEfQIST+0cGq8NGYyoVa1F8h7WDcqOv2ovhHbrkqPWj0YgVWc4MaazQJncP2edcKMSr0LJ5bnDsqJTYVGvYRWvc2a8KoRL3i1ZSNHG0aAWuhEpmEIui8SooGA5d3e1IQ2I56uISxhk9NRIB5qJGE9JILdrlUr9+IXKSRmZ6nNXHMLpLgHNlhvX5CJSxAX/Op7KZzWJBombEt7KLcE3h8CZgJTWNE0aG4crCupr3TqFrlST0/KIHktJhi+7ISZ26tZb1pWUx8mRiyZba1eEnhAClJmxbWu0t08rhNYIRSL39PVZKwSfJDToSUDHLJj5jh5390Qcl3IAiWnAOXSWaWh0jQNe9LT/sybB44XJmYeLFG5RbVtdi+jBn8rkm3ScHp04VNavxp+4JsOxAaJzTs7mZXf3am18zSC8UQa+kgwSmiyS5QkZNAzTUsgwXpvCdXbEZJXIS97LUiGDiLGSSTcU8A1V2JKAgsXXvR1U5Rs4uYMPyupWGXXOy1EDC/T6zyYUER8JJyGlETbwQPYGXxVVjVebEZFW2GqCxdrzHMpC1MnJtQzm7NbFE/s9cXUxekK7yP8nJN1rnIG+epaIiVTZffgco4zYMt4ViyAWk+aK0pnTrWvMLWYuYsWInoiNQXi4BPkJilujz0f8D1lBvpDEWJDivq7xOi5Ym6IIda9Jk/501ot+Q4r4n4Cl8FioKa7yTfzSdMUE0hLUsonJVsiY6veJ5PLlGOHaF3pZid3zfaAihjDoldZ7U5qtkEPeIG2VUIb6H4/PfEABi8SroBgWco+ESSFVwgKZOTsbgpGaXyuTFxRl+Pe/c'
    const sampleBase64_JH = 'AZsJRQAAZxPEXcrzenVzwtrtm630N042KTifimvzxlEEOEQH9m8yM9S6uDMFLIndFcyA+TBpH/j8x3vwSU6kCLXsBGWpuIWAyVxGzCE0n8oDoQuVd4y9lnLFPRUOSq58v5thva3NPGnxEDMjbS4SJ/afSdtAGoWnAhpUfGFrcDgzcjjTfRCGuzxzDHN/qsFkuunNrwJzkE+odXmQeHeWYPh/vwoor1Nzmsh8OXWBAP2bzDvtyHFsNSErf5Ea3WTEMoG9GOsS8bx/ASSfFOz35ujtLixm8y8HFq7yG1t/69iJRXYyyqqHi20lPV1PA43lZd9UspyLPdh3FHgMDowCexV32TdfdsLuhovydg4n3SrEsWEawvBpWITS64CwDCzVJQWj86z1iiMGpHFyUZ5n3Txawebkn4U1/sk+jZsyLvm6LMWwku3kpF+gunwBRGPoYNb68QXr7Juu5qMlXDQ6DMmXSzeafXCzRphmiFE+8iST+00a6EQ81yGCf37skziR4H9HHMLhl8EeqCIz0yxmb3CALa5x0rr87CVQ90WNQMI/DA89lFIlPZrmx5vX2Vkvp0TBw8QLlF9IaTyhtEdnWYfqUdYxvtmcY4ZbJahEb/IlmkVPNwdkbCeBLxdUEMkwyCxgwxJnVWUMXRN9zRWyhsMtzMuzB01mcpkUTfRMxOskZ16IJ4NaWB7zhHVMLAB9cg2CyJx2CMrBVDewYPLvmpdUf8o6261h2h6bDbkGH+g8EM8ybpK4t+eH745F/8BW4QClBK4JV4/c7dDTq/EobHduekv9Ark/NOkSG/ZvF6d6TbNroEAypVOJLRw/bDd75PdpY1e+uqmD6jFmWSyK/DUoKuVaumTYP3Q2qgtLWGcIVaKPLhTmey6EQR45t/4ZzWi+XKQRufYKnwM54ZrovaUCI/tJMN8LiiDtRSimASlqgUchJF2zkravqSnx1UfD'
    //@ts-ignore
    const driverDetails = { "surname": "SEVENSTER", "initials": "GJ", "professionalDrivingPermitCodes": [], "idCountryOfIssue": "ZA", "licenseCountryOfIssue": "ZA", "licenseNumber": "60570003BLMR", "idNumber": "6712165128087", "idNumberType": "02", "vehicleLicenses": [{ "code": "EB", "restriction": "0", "firstIssuedDate": "1999-12-02" }], "driverRestrictions": "00", "professionalDrivingPermitExpiry": null, "licenseIssueNumber": "01", "birthDate": "1967-12-16", "licenseValidityStart": "2020-10-02", "licenseValidityExpiry": "2025-10-01", "gender": "01" };
    const driverBuffer = Buffer.from(sampleBase64_DC, 'base64');
    const driverResults = ZADriversBarcodeProcessor.process(driverBuffer);
    console.log(JSON.stringify(driverResults));
}

test();
